# Obsidian Textlint Panel Plugin

Obsidianで動作するtextlintプラグインです。文章の校正結果を左パネルに一覧表示し、ワンクリックでの修正適用が可能です。

## 機能

### 🎯 主要機能
- **左パネル表示**: textlintの検出結果を分かりやすく一覧表示
- **ジャンプ機能**: 問題箇所をクリックで該当行にジャンプ
- **ハイライト表示**: CodeMirror 6対応の問題箇所ハイライト  
- **修正案適用**: ワンクリックで自動修正が可能
- **設定画面**: 各プリセットの個別ON/OFF設定

### 📝 対応ルールセット

| プリセット | 内容 | 対応状況 |
|-----------|------|----------|
| **技術文書向け** | 文の長さ、冗長表現、漢数字混在チェック（一部制限あり） | ✅ 部分対応 |
| **スペース・句読点** | 全角・半角スペース、句読点の統一 | ✅ |
| **カスタムルール** | TODO/FIXME検出、用語統一 | ✅ |
| **AI生成文章検出** | AI特有の冗長表現、決まり文句の検出 | ❌ 一時無効化 |
| **日本語基本** | ら抜き言葉、助詞連続などの基本文法 | ❌ 一時無効化 |

### 🔧 検出可能な問題

#### 技術文書向けプリセット（制限あり）
- ✅ 一文の長さ制限（100文字）
- ✅ 漢数字と算用数字の混在
- ✅ 感嘆符・疑問符のチェック
- ✅ 文体統一（ですます調・である調）
- ❌ 冗長表現（kuromoji依存のため無効）
- ❌ 体言止めの警告（kuromoji依存のため無効）

#### スペース・句読点プリセット  
- ✅ 全角・半角文字間のスペース
- ✅ 英数字前後のスペース
- ✅ 句読点の統一

#### カスタムルール
- ✅ `TODO:`, `FIXME:`, `XXX:`の検出
- ✅ 用語統一（「サインイン」→「ログイン」等）

## インストール

1. プラグインフォルダにファイルを配置
2. Obsidianの設定でプラグインを有効化

## 使用方法

1. **左パネルを開く**: サイドバーの「Textlint結果」アイコンをクリック
2. **ファイルを選択**: アクティブなMarkdownファイルが自動で検査されます
3. **問題を確認**: 検出された問題が一覧表示されます
4. **修正適用**: 
   - 問題箇所をクリック→該当箇所にジャンプ＋ハイライト
   - 修正案がある場合は「修正を適用」ボタンでワンクリック修正

## 設定

設定画面で各プリセットの有効/無効を切り替えできます：

- ✅ **技術文書向けプリセット**: 技術的な文書のスタイルチェック（一部制限あり）
- ✅ **スペース・句読点プリセット**: 記号・スペースの使い方
- ❌ **AIライティング検出プリセット**: 現在無効化（kuromoji依存問題）
- ✅ **カスタムルール**: TODO検出・用語統一
- ❌ **日本語基本プリセット**: 現在無効化（kuromoji依存問題）

## 技術仕様

- **Obsidian API**: 最新のObsidian APIに対応
- **CodeMirror 6**: 現代的なエディタ拡張でハイライト実装
- **textlint**: 高度な文章校正エンジン
- **TypeScript**: 型安全な実装

## 制限事項

### kuromoji依存問題
現在、形態素解析エンジン「kuromoji」に依存するルールが動作しません：

**無効化されたプリセット:**
- 日本語基本プリセット（ら抜き言葉、助詞連続など）
- AIライティング検出プリセット

**無効化されたルール（技術文書向けプリセット内）:**
- 読点チェック（max-ten）
- 助詞の連続使用チェック（no-doubled-joshi）
- 冗長表現検出（ja-no-redundant-expression）
- 体言止め警告（ja-no-successive-word）
- その他形態素解析依存ルール

**現在利用可能な機能:**
- 文の長さ制限
- 漢数字・算用数字混在チェック
- 文体統一チェック
- スペース・句読点ルール
- カスタムルール（TODO検出・用語統一）

### その他の制限
- 大きなファイル（1000行以上）では処理に時間がかかる場合があります

## 開発者向け

### ビルド
```bash
npm install
npm run build
```

### デバッグ
設定でデバッグログを有効化すると、詳細な情報がコンソールに出力されます。

## 今後の改善予定

- kuromoji依存問題の解決
- 形態素解析に依存しない代替ルールの実装
- より多くのカスタムルールの追加

## ライセンス

MIT License
# obsidian-textlint-highlighter-plugin
